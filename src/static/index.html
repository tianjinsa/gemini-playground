<!--
//Author: ChrisKyle
//Project: https://github.com/ViaAnthroposBenevolentia/gemini-2-live-api-demo
//MIT License : https://github.com/ViaAnthroposBenevolentia/gemini-2-live-api-demo/blob/main/LICENSE
-->

<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Playground - å¤šæ¨¡æ€APIä½“éªŒå·¥å…·</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- æ·»åŠ marked.jsåº“ç”¨äºè§£æMarkdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.5/marked.min.js"></script>
    <style>
        #history-container, .history-panel, .history-sidebar {
            display: none !important;
        }
        
        /* å¦‚æœä¸»å†…å®¹åŒºåŸŸæœ‰æ ¹æ®å†å²é¢æ¿è°ƒæ•´çš„å¸ƒå±€ï¼Œéœ€è¦ä¿®æ­£ */
        .main-content-area {
            width: 100% !important;
            margin-left: 0 !important;
        }
    </style>
</head>
<body>
    <div id="app">
        <header class="app-header">
            <div class="logo">
                <span class="logo-emoji">ğŸ¤–</span>
                <h1>Gemini Playground</h1>
            </div>
            <div class="header-controls">
                <button id="theme-toggle" class="icon-button" title="åˆ‡æ¢ä¸»é¢˜" aria-label="åˆ‡æ¢ä¸»é¢˜">
                    <span id="theme-icon" class="emoji-icon">ğŸŒ™</span>
                </button>
                <button id="connect-button" class="connect-button">è¿æ¥</button>
                <button id="config-toggle" class="icon-button" title="è®¾ç½®" aria-label="è®¾ç½®">
                    <span class="emoji-icon">âš™ï¸</span>
                </button>
            </div>
        </header>
        
        <aside id="config-container" class="hidden-mobile">
            <div class="config-header">
                <h2>è®¾ç½®</h2>
                <button class="close-config emoji-icon" aria-label="å…³é—­è®¾ç½®">âŒ</button>
            </div>
            <div class="config-wrapper">
                <div class="api-key-container">
                    <label for="api-key">API Key</label>
                    <div class="api-key-input-wrapper">
                        <input type="password" id="api-key" placeholder="è¯·è¾“å…¥Gemini API Key" aria-label="API Key" />
                        <button id="toggle-api-visibility" class="icon-button" title="æ˜¾ç¤º/éšè—API Key" aria-label="æ˜¾ç¤º/éšè—API Key">
                            <span class="emoji-icon">ğŸ‘ï¸</span>
                        </button>
                    </div>
                    <div class="api-key-help">éœ€è¦Gemini API Keyæ‰èƒ½ä½¿ç”¨æ­¤å·¥å…·</div>
                </div>
                
                <div class="setting-group">
                    <h3>è¯­éŸ³è®¾ç½®</h3>
                    <div class="setting-container">
                        <label for="voice-select">å£°éŸ³: </label>
                        <select id="voice-select" aria-label="å£°éŸ³é€‰æ‹©">
                            <option value="Puck">Puck (ç”·å£°)</option>
                            <option value="Charon">Charon (ç”·å£°)</option>
                            <option value="Fenrir">Fenrir (ç”·å£°)</option>
                            <option value="Kore">Kore (å¥³å£°)</option>
                            <option value="Aoede" selected>Aoede (å¥³å£°)</option>
                        </select>
                    </div>
                    <div class="setting-container">
                        <label for="response-type-select">å›å¤ç±»å‹: </label>
                        <select id="response-type-select" aria-label="å›å¤ç±»å‹é€‰æ‹©">
                            <option value="text" selected>æ–‡æœ¬</option>
                            <option value="audio">éŸ³é¢‘</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-group">
                    <h3>è§†é¢‘è®¾ç½®</h3>
                    <div class="setting-container">
                        <label for="fps-input">è§†é¢‘å¸§ç‡ (FPS): </label>
                        <input type="number" id="fps-input" value="1" min="1" max="30" step="1" aria-label="è§†é¢‘å¸§ç‡ (FPS)" />
                        <span class="fps-help">é«˜å¸§ç‡éœ€è¦æ›´å¤šçš„ç½‘ç»œå¸¦å®½</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <h3>ç³»ç»ŸæŒ‡ä»¤</h3>
                    <textarea id="system-instruction" placeholder="è¾“å…¥è‡ªå®šä¹‰ç³»ç»ŸæŒ‡ä»¤..." rows="6" aria-label="ç³»ç»ŸæŒ‡ä»¤"></textarea>
                </div>
                
                <button id="apply-config" class="primary-button">ç¡®è®¤</button>
                <div class="config-footer">
                    <p>æç¤º: å¯ä»¥ä½¿ç”¨é¢„è®¾ç³»ç»ŸæŒ‡ä»¤æ¨¡æ¿</p>
                    <div class="preset-buttons">
                        <button class="preset-button" data-preset="assistant">åŠ©æ‰‹</button>
                        <button class="preset-button" data-preset="coder">ç¨‹åºå‘˜</button>
                        <button class="preset-button" data-preset="creative">åˆ›æ„</button>
                    </div>
                </div>
            </div>
        </aside>
        
        <main class="main-content">
            <div class="chat-container">
                <div class="chat-header">
                    <span id="connection-status" class="status-indicator offline" role="status" aria-live="polite">æœªè¿æ¥</span>
                    <div class="chat-tools">
                        <button id="clear-chat" class="text-button" title="æ¸…ç©ºèŠå¤©è®°å½•" aria-label="æ¸…ç©ºèŠå¤©è®°å½•">
                            <span class="emoji-icon">ğŸ—‘ï¸</span>
                            æ¸…ç©ºèŠå¤©
                        </button>
                    </div>
                </div>

                <div id="logs-container" aria-live="polite" aria-relevant="additions" role="log"></div>
                
                <div class="input-container">
                    <div class="message-input-wrapper">
                        <textarea id="message-input" placeholder="è¾“å…¥æ¶ˆæ¯..." rows="1" aria-label="æ¶ˆæ¯è¾“å…¥"></textarea>
                        <div class="shortcut-hint">æŒ‰ Enter å‘é€ï¼ŒShift+Enter æ¢è¡Œ</div>
                    </div>
                    <div class="action-buttons">
                        <button id="send-button" class="primary-button" aria-label="å‘é€æ¶ˆæ¯">å‘é€</button>
                        <div class="tool-buttons">
                            <button id="mic-button" class="icon-button" title="éº¦å…‹é£" aria-label="éº¦å…‹é£">
                                <span id="mic-icon" class="emoji-icon">ğŸ¤</span>
                            </button>
                            <button id="camera-button" class="icon-button" title="æ‘„åƒå¤´" aria-label="æ‘„åƒå¤´">
                                <span id="camera-icon" class="emoji-icon">ğŸ“·</span>
                            </button>
                            <button id="screen-button" class="icon-button" title="å±å¹•åˆ†äº«" aria-label="å±å¹•åˆ†äº«">
                                <span id="screen-icon" class="emoji-icon">ğŸ“º</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <aside class="sidebar">
                <div class="visualizer-panel">
                    <h3>éŸ³é¢‘å¯è§†åŒ–</h3>
                    <div class="audio-visualizers">
                        <div class="visualizer-container">
                            <label>è¾“å…¥éŸ³é¢‘</label>
                            <div id="input-audio-visualizer"></div>
                        </div>
                        <div class="visualizer-container">
                            <label>è¾“å‡ºéŸ³é¢‘</label>
                            <div id="audio-visualizer"></div>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
        
        <div id="video-container" style="display: none;">
            <div class="video-header">
                <span class="video-title">æ‘„åƒå¤´é¢„è§ˆ</span>
                <div class="video-controls">
                    <button id="flip-camera" class="icon-button" title="ç¿»è½¬æ‘„åƒå¤´" aria-label="ç¿»è½¬æ‘„åƒå¤´">
                        <span class="emoji-icon">ğŸ”„</span>
                    </button>
                    <button id="stop-video" class="danger-button" aria-label="åœæ­¢è§†é¢‘">åœæ­¢è§†é¢‘</button>
                </div>
            </div>
            <video id="preview" playsinline autoplay muted></video>
        </div>
        
        <div id="screen-container" style="display: none;">
            <div class="screen-header">
                <span class="screen-title">å±å¹•å…±äº«</span>
                <button class="close-button emoji-icon" aria-label="å…³é—­å±å¹•å…±äº«">âŒ</button>
            </div>
            <video id="screen-preview" playsinline autoplay muted></video>
        </div>
        
        <footer class="app-footer">
            <div class="footer-content">
                <p>Gemini Playground - å¤šæ¨¡æ€APIä½“éªŒå·¥å…· &copy; 2025</p>
                <div class="footer-links">
                    <a href="https://ai.google.dev/docs" target="_blank">Gemini API æ–‡æ¡£</a>
                    <span class="divider">|</span>
                    <a href="https://github.com/ViaAnthroposBenevolentia/gemini-2-live-api-demo" target="_blank">GitHub</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- åŠ è½½æç¤º -->
    <div id="loading-overlay" role="dialog" aria-modal="true" aria-labelledby="loading-title" aria-describedby="loading-description">
        <div class="loading-content">
            <div class="loading-spinner" aria-hidden="true"></div>
            <h2 id="loading-title" class="visually-hidden">å¤„ç†ä¸­</h2>
            <p id="loading-description">åŠ è½½ä¸­...</p>
        </div>
    </div>

    <!-- å·¥å…·ä½¿ç”¨æŒ‡ç¤ºå™¨ -->
    <div id="tool-indicator" class="tool-indicator" role="status" aria-live="polite">
        <div class="tool-indicator-content">
            <div class="tool-icon">ğŸ”§</div>
            <div class="tool-info">
                <p class="tool-name">ä½¿ç”¨å·¥å…·ä¸­...</p>
                <div class="tool-progress-bar">
                    <div class="tool-progress"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js" type="module"></script>
</body>
</html>